<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="https://cdn.cdnlogo.com/logos/m/90/medium-m.svg">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  <title>Medissity</title>
  <style>
       div.scroll {
                width: 100%;
                height: 200px;
                overflow-x: hidden;
                overflow-y: auto;
                text-align:justify;
            }
  </style>
 <style>
   .multiselect {
  width: 700px;
}

.selectBox {
  position: relative;
}

.selectBox select {
  width: 100%;
  font-weight: bold;
}

.overSelect {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}

#checkboxes {
  display: none;
  border: 1px #dadada solid;
}

#checkboxes label {
  display: block;
}

#checkboxes label:hover {
  background-color: #1e90ff;
}
 </style>
  <script>
  function filter() {
    var keyword = document.getElementById("search").value;
    var select = document.getElementById("select");
    for (var i = 0; i < select.length; i++) {
        var txt = select.options[i].text;
        if (txt.substring(0, keyword.length).toLowerCase() !== keyword.toLowerCase() && keyword.trim() !== "") {
            select.options[i].style.display = 'none';
        } else {
            select.options[i].style.display = 'list-item';
        }
    }
}
function filter2() {
    var keyword = document.getElementById("search2").value;
    var select = document.getElementById("select2");
    for (var i = 0; i < select.length; i++) {
        var txt = select.options[i].text;
        if (txt.substring(0, keyword.length).toLowerCase() !== keyword.toLowerCase() && keyword.trim() !== "") {
            select.options[i].style.display = 'none';
        } else {
            select.options[i].style.display = 'list-item';
        }
    }
}
function filter3() {
    var keyword = document.getElementById("search3").value;
    var select = document.getElementById("select3");
    for (var i = 0; i < select.length; i++) {
        var txt = select.options[i].text;
        if (txt.substring(0, keyword.length).toLowerCase() !== keyword.toLowerCase() && keyword.trim() !== "") {
            select.options[i].style.display = 'none';
        } else {
            select.options[i].style.display = 'list-item';
        }
    }
}

</script>
  <style>
  /* Modify the background color */

        .navbar-custom {
            background-color: #f0f4ec;
        }
        /* Modify brand and text color */

        .navbar-custom .navbar-brand,
        .navbar-custom .navbar-text {
            color: #f0f4ec;
        }</style>


  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</head>
<body>
<!--Navbar-->
<nav class="navbar navbar-custom navbar-expand fixed-top" >
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">

          <a class="nav-link active" aria-current="page" th:href="@{/diagnostics/}"> <i class="fa-solid fa-house"></i> Acasă</a>
        </li>

        <li class="nav-item dropdown">

          <a style="color:black" class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" ><i class="fa-solid fa-square-plus"></i>
            Adăugare
          </a>
          <ul class="dropdown-menu">
            <li><a th:href="@{/diagnostics/add}" class="dropdown-item" aria-pressed="true"> <i class="fa-solid fa-plus"></i> Adaugă un diagnostic</a>
            </li>

            <li><a th:href="@{/medical-tests/add}" class="dropdown-item" aria-pressed="true"><i class="fa-solid fa-plus"></i> Adaugă analize</a>
            </li>

            <li><a th:href="@{/imaging/add}" class="dropdown-item" aria-pressed="true"><i class="fa-solid fa-plus"></i> Adaugă imagistică</a>
            </li>

            <li><a th:href="@{/symptoms/add}" class="dropdown-item" aria-pressed="true"><i class="fa-solid fa-plus"></i> Adaugă un simptom</a>
            </li>

            <!--                        <li><hr class="dropdown-divider"></li>-->
            <!--                        <li><a class="dropdown-item" href="#">Something else here</a></li>-->
          </ul>
        </li>
        <li class="nav-item dropdown">

          <a style="color:black" class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa-solid fa-clipboard-list"></i>
            Liste
          </a>
          <ul class="dropdown-menu">
            <li><a th:href="@{/diagnostics/}" class="dropdown-item"  aria-pressed="true"><i class="fa fa-list" aria-hidden="true"></i> Listă diagnostice</a></li>
            <li><a th:href="@{/medical-tests/}" class="dropdown-item"  aria-pressed="true"><i class="fa fa-list" aria-hidden="true"></i> Listă analize</a></li>
            <li><a th:href="@{/imaging/}" class="dropdown-item"  aria-pressed="true"><i class="fa fa-list" aria-hidden="true"></i> Listă imagistică</a>
            <li><a th:href="@{/symptoms/}" class="dropdown-item"  aria-pressed="true"><i class="fa fa-list" aria-hidden="true"></i> Listă simptome</a>

            </li>
            <!--                        <li><hr class="dropdown-divider"></li>-->
            <!--                        <li><a class="dropdown-item" href="#">Something else here</a></li>-->
          </ul>




        </li>
        <!--                <li class="nav-item">-->
        <!--                    <a class="nav-link disabled">Polițe</a>-->
        <!--                </li>-->
        <li class="nav-item">
<!--          <a class="nav-link active" aria-current="page" th:href="@{/policies/}">Polițe</a>-->
          <a style = "color:black" class="nav-link active" aria-current="page" th:href="@{/policies/}">Polițe</a>

        </li>
      </ul>
      <form class="d-flex" role="search">

        <input class="form-control me-2" type="text" id="myInput" onkeyup="myFunction()" placeholder="Caută..." aria-label="Search">

        <!--                <input class="form-control me-2" type="search" id="myInput" onkeyup="myFunction()" placeholder="Căutare" aria-label="Search">-->

      </form>
      </div>
    </div>
</nav>

<center>
  <div class="container" >
    <br>
    <br>
    <br>
    <h2> Schimbă numele diagnosticului</h2>
    <h2 style="text-decoration:underline"  th:text="${diagnostic.name}"></h2>
    <form method="post" th:action="@{/diagnostics/edit}">
      <input type="hidden" th:value="${diagnostic.id}" name="diagnostic_id">
      <div class="mb-3">
        <!--      <label for="name" class="form-label">Nume</label>-->
        <input style="margin: 10px;width: 700px;" th:value="${diagnostic.name}" type="text" class="form-control" id="name" aria-describedby="name" name="diagnostic_name">
        <div id="nameHelp" class="form-text">(Noul nume al diagnosticului)</div>
      </div>
      <button type="submit" class="btn btn-primary">Confirmare</button><br>
    </form>
    <br>
    <hr class="solid">


    <br>
    <form name='f' method="POST" th:action="@{|/diagnostics/${diagnostic.id}/assignAll|}">
      <h3 th:text="'Atribuie analize pentru:  ' + ${diagnostic.name}"></h3><i class="fa-solid fa-syringe fa-lg" style="color:#60ac44"></i>
      <!--  <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Cauta analize...">-->
      <input type="text" id="search3" name="search3" style="margin: 10px;width: 670px;" onkeyup="filter3()" placeholder="Caută analize...">


      <select id="select3" class="form-select" style="margin: 10px;width: 700px;"  aria-label="multiple select example" multiple name="medicalTests">

        <option th:each="medicalTest : ${unassignedMedicalTests}"
                th:value="${medicalTest.id}"
                th:text="${medicalTest.name}"></option>

      </select>

      <!--    <button type="submit" class="btn btn-outline-primary">Asignează</button><br>-->
      <!--    <input name="submit" type="submit"  value="submit" >-->

      <br>
      <h3  th:text="'Atribuie imagistică pentru: ' + ${diagnostic.name}"></h3><i class="fa-solid fa-x-ray fa-lg" style="color:#f1a718"></i>
      <!--  <input type="text" id="myInput2" onkeyup="myFunction2()" placeholder="Cauta Imagistica...">-->
      <input type="text" id="search2" name="search2" style="margin: 10px;width: 670px;" onkeyup="filter2()" placeholder="Caută imagistică...">


      <br>
      <select id="select2" class="form-select" style="margin: 10px;width: 700px;"  aria-label="multiple select example" multiple name="medicalImagingList">

        <option th:each="medicalImaging : ${unassignedMedicalImaging}"
                th:value="${medicalImaging.id}"
                th:text="${medicalImaging.name}"></option>
      </select>

      <!--    <button type="submit" class="btn btn-outline-primary">Asignează</button><br>-->
      <br>
      <h3 th:text="'Atribuie simptome pentru: ' + ${diagnostic.name}"></h3><i class="fa-solid fa-head-side-cough fa-lg" style="color:#04acac"></i>
      <input type="text" id="search" name="search" style="margin: 10px;width: 670px;" onkeyup="filter()" placeholder="Cauta simptome...">

      <br>
      <select id="select" class="form-select" style="margin: 10px;width: 700px;"  aria-label="multiple select example" multiple name="symptoms">
        <option th:each="symptom : ${unassignedSymptoms}"
                th:value="${symptom.id}"
                th:text="${symptom.name}"></option>
      </select>

      <!--    <button type="submit" class="btn btn-outline-primary">Asignează</button><br>-->
      <button type="submit" class="btn btn-outline-success"><i class="fa-solid fa-plus"></i> Atribuie toate investigațiile selectate</button><br>

    </form>

  </div>
</center>
  <center>
    <br>
    <hr class="solid">
    <br>

    <a href="#demo" data-toggle="collapse"><button type="button" class="btn btn-outline-info"><i class="fa-solid fa-eye"></i> Vezi investigațiile atribuite</button></a>

    <div id="demo" class="collapse">

      <div>
        <br>
        <h3>Investigațiile atribuite acestui diagnostic </h3>
        <form name='f' method="POST" th:action="@{|/diagnostics/${diagnostic.id}/unassignAll|}">
          <div id="myDIV">
            <select class="form-select" style="margin: 10px;width: 700px;"  aria-label="multiple select example" multiple name="medicalTests">
              <option th:each="medicalTest : ${assignedMedicalTests}"
                      th:value="${medicalTest.id}"
                      th:text="${medicalTest.name}"></option>

            </select>

            <select class="form-select" style="margin: 10px;width: 700px;"  aria-label="multiple select example" multiple name="medicalImagingList">



              <option
                      th:each="medicalImaging : ${assignedMedicalImaging}"
                      th:value="${medicalImaging.id}"
                      th:text="${medicalImaging.name}"></option>
            </select>
            <select class="form-select" style="margin: 10px;width: 700px;"  aria-label="multiple select example" multiple name="symptoms">
              <option th:each="symptom : ${assignedSymptoms}"
                      th:value="${symptom.id}"
                      th:text="${symptom.name}"></option>
            </select>
          </div>

          <button type="submit" class="btn btn-outline-danger" ><i class="fa-solid fa-link-slash fa-lg"  style="color:#c4443c;"></i> Dezatribuie toate investigațiile selectate  </button><br>
        </form>
      </div>
    </div>
  </center>
</center>




<!-- Footer -->
<footer class="page-footer font-small teal pt-4">

  <div class="container-fluid text-center text-md-left">
    <div class="row">
      <div class="col-md-6 mt-md-0 mt-3">
        <h5 class="text-uppercase font-weight-bold"></h5>
        <p>
      </div>
      <hr class="clearfix w-100 d-md-none pb-3">
      <div class="col-md-6 mb-md-0 mb-3">
      </div>
      <h5 class="text-uppercase font-weight-bold">Medissity</h5>
      <div class="footer-copyright text-center py-3">© 2022
        <a href="https://www.telios.ro/">Powered by<br><img src="https://www.telios.ro/hubfs/Telios-logos/Telios-Care-logo-color.svg" class="hs-image-widget " style="width:150px;border-width:0px;border:0px;" width="200" alt="Telios-Care-logo-color" title="Telios-Care-logo-color"></a>
      </div>
    </div>
  </div>
</footer>
<script>
  var expanded = false;

function showCheckboxes() {
  var checkboxes = document.getElementById("checkboxes");
  if (!expanded) {
    checkboxes.style.display = "block";
    expanded = true;
  } else {
    checkboxes.style.display = "none";
    expanded = false;
  }
}
</script>
<!-- Footer -->
<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myDIV *").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});

</script>

<!--UPDATE!!!-->
<!--<section class="vh-100" >-->

<!--  <div class= "container py-5 h-100" style="width:3000px" >-->

<!--    <div class="row d-flex justify-content-center align-items-center h-100">-->

<!--      <div class="col col-lg-8 col-xl-6">-->

<!--        <div class="card rounded-3">-->

<!--          <center><p class="mb-2"><span class="h2 me-2"><i class="fa-solid fa-syringe fa-lg" style="padding-top:30px;color:#60ac44"></i>Analize</span> <span-->
<!--                  class="badge bg-danger">checklist</span></p>-->
<!--          <p class="text-muted pb-2">Atribuie analize</p></center>-->
<!--          <input type="text" name="search" style="margin: 10px;width: 615px;" onkeyup="filter()" placeholder="Cauta analize...">-->
<!--            <ul class="list-group rounded-0">-->
<!--              <div class="card-body p-4 scroll ">-->
<!--              <th:block th:each="medicalTest: ${unassignedMedicalTests}">-->
<!--                <li class="list-group-item border-0 d-flex align-items-center ps-0">-->
<!--                  <input class="form-check-input me-3" type="checkbox" value="sax" aria-label="..." th:text="${medicalTest.name}" >-->
<!--&lt;!&ndash;                    <small style="font-size: 17px;padding-top:2px"  th:text="${medicalTest.name}"></small>&ndash;&gt;-->
<!--              </li>-->
<!--                </th:block>-->
<!--              </div>-->
<!--            </ul>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--</section>-->

</body>
</html>
